/****** tabs.scss ****** */
/* Alternative Tab styling using no background image but rather border-radius.
 * Requires a change to application/configs/navigation.xml
 * to remove 'connexions_sprites welcome_bg' from the 'class' of <userInfo>
 *       and 'connexions_sprites join_bg'    from the 'class' of <register>
 *
 * This will show square tabs in browsers that don't support border-radius
 * and likely won't work at all in IE6. */

@import "colors";
@import "sizes";

$navBorder: unquote("1px dotted") $navColorBorder;

/* Tabs / Navigation */
#pageHeader {
  border-top: unquote("0.25em solid") $navColorBackground;
  // Outer curve connecting the tabs with the top border
  .tabs_outer_curve {
    position: absolute;
    right: $tabWidth;
  }
  // Top navigation tabs
  .tabs {
    position: absolute;
    top: 0;
    right: 0;
    padding: 0;
    width: $tabWidth;
    //height =  !tabHeight
    padding: 0;
    background-color: transparent;
    a {
      padding: 2px;
      color: $navColor;
      font-weight: normal;
      text-decoration: none;
    }
    li.active a, a:hover {
      color: $navColorHover;
    }

    // Welcome / Join -- first tab item
    li.welcome, li.join {
      width: $navWidthFirst;
      border-right: $navBorder;
      @include corners(0, 0, 0, 20px);
    }

    li.welcome {
      //background-color =    !navColorWelcomeBackground
      background: url("sprites/welcome_bg_gradient.gif") repeat-x scroll 0 0 transparent;
      ul.sub {
        left: 0;
      }
      ul.sub li {
        width: 100px;
      }
      ul.sub .corner_inner_left {
        display: none;
      }
      &:hover {
        @include corners(0, 0, 0, 0);
      }
    }
    li.join {
      background-color: $navColorJoinBackground;
      a {
        color: $navColor;
        &:hover {
          color: $navColorBackground;
        }
      }
    }
  }
  .nav {
    position: absolute;
    top: 0;
    left: 0;
    padding: 0;
    width: $navWidth;
    *width: $navWidth + 1;
    li {
      float: left;
      width: $navWidthItem;
      text-align: center;
      padding: $navPadSubItem_tb unquote("0");
      background-color: $navColorBackground;
      height: $tabHeight;
    }
  }
  /* Sub-menu */
  ul.sub {
    display: none;
    position: absolute;
    top: $navTopSub;
    left: 2px;
    color: $navColor;
    padding: 0;
    margin: 0;
  }
  li:hover ul.sub {
    display: block;
  }
}

#pageHeader, #search {
  ul.sub {
    li {
      background-color: $navColorBackground;
      width: $navWidthSub;
      height: auto;
      padding: unquote("0") $navPadSubItem_lr;
      float: left;
      margin: 0;
      cursor: pointer;
      text-align: left;

    }
    li a:hover, li:hover span {
      color: $navColorSubHover;
    }

    .corner_inner_left, .corner_inner_right, .corner_outter_left, .corner_outter_right {
      position: absolute;
      top: 0;
    }
    .corner_inner_left {
      left: -12px;
    }
    .corner_inner_right {
      right: -12px;
    }

    li.first {
      a, span {
        padding-top: $navPadSubItem_tb * 4;
        border-top: 0;
      }
    }
    li.last {
      @include corners(0, 0, 16px, 16px);
      padding-bottom:   0.25em;
    }
  }

  .nav, .choices {
    ul.sub {
      li {
        a, span {
          display: block;
          padding: 0.5em 0;
          color: $navColorSub;
          font-weight: normal;
          border-top: $navBorder;
        }
      }
      li.active {
        a, span {
          color: $navColorSelected;
        }
      }
      li:hover span, li a:hover {
        color: $navColorSubHover;
      }
    }
  }
}

/************************************************* */
/* Search */
#search {
  position: absolute;
  top: 0;
  right: 0;
  //padding =         !navPadItem !searchPad_r !navPadItem "0"
  padding: $navPadItem $searchPad_r unquote("0 0");
  width: $navWidthSearch;
  height: $tabHeight;
  background-color: $navColorBackground;
  .searchBox {
    float: right;
  }
  /* Search Input / Choices */
  .searchInput {
    border: 0;
    color: #999999;
    input {
      border: none;
      //color:        #aaa
      height: 1.5em;
      margin: 0;
      padding: unquote("0") $searchInputInputPadRght unquote("0") $searchInputInputPadLeft;
      width: $searchInputInputWidth;
      font-weight: normal;
    }
    input.ui-state-valid,input.ui-state-invalid {
      color:  $fieldTextColor;
    }
    label.ui-input-over {
      // Adjust for the fact that the input box this label will be over has no
      // padding.
      top:    0.3em;
    }
  }
  .focus {
    color: black;
  }
  .submit {
    display: block;
    position: absolute;
    top: 0.25em;
    left: $searchMagLeft;
    width: $searchMagWidth;
    padding: 0;
    border: 0;
    border-left: 1px dotted #999999;
    background-color: transparent;
    cursor: pointer;
    z-index: 101;
  }
  /* Search Context choices */
  .choices {
    .list {
      top: $tabHeight - ($navPadItem / 1.5);
      left: -15px;
      li {
        width: 180px;
      }
    }
  }
  &:hover .list {
    display: block;
  }
}
